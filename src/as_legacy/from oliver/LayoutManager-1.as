package=20net.guttershark.managers=0D{=0D=09import=20=
flash.display.DisplayObject;=0A=09import=20=
flash.display.DisplayObjectContainer;=0A=09import=20flash.display.Stage;=0A=
=09import=20flash.geom.Point;=0A=0D=09/**=0D=09=20*=20The=20=
LayoutManager=20class=20adds=20shortcuts=20for=20layout,=20and=20layer=20=
management=0D=09=20*=20with=20a=20display=20objects=20children.=0D=09=20=
*=20=0D=09=20*=20<p>DisplayObject's=20must=20have=20their=20registration=20=
point=20at=200,0=20in=0D=09=20*=20order=20for=20the=20align=20/=20stage=20=
align=20methods=20to=20function=20correctly.=20Otherwise=0D=09=20*=20=
you'll=20see=20shifts=20in=20what=20is=20expected.</p>=0D=09=20*=20=0D=09=
=20*=20@example=09Using=20a=20layout=20manager=20from=20a=20CoreClip.=0D=09=
=20*=20<listing>=09=0D=09=20*=20public=20class=20MyClip=20extends=20=
CoreClip=0D=09=20*=20{=0D=09=20*=20=20=20=20=20public=20function=20=
MyClip()=0D=09=20*=20=20=20=20=20{=0D=09=20*=20=20=20=20=20=20=20=20=20=
super();=20//critical=0D=09=20*=20=20=20=20=20=20=20=20=20=0D=09=20*=20=20=
=20=20=20=20=20=20=20var=20mc1:MovieClip=20=3D=20new=20MovieClip();=0D=09=
=20*=20=20=20=20=20=20=20=20=20//draw=20vector=20box=20in=20mc1=20=
here...=0D=09=20*=20=20=20=20=20=20=20=20=0D=09=20*=20=20=20=20=20=20=20=20=
=20var=20mc2:MovieClip=20=3D=20new=20MovieClip();=0D=09=20*=20=20=20=20=20=
=20=20=20=20//draw=20vector=20box=20in=20mc2=20here...=0D=09=20*=20=20=20=
=20=20=20=20=20=20=0D=09=20*=20=20=20=20=20=20=20=20=20var=20=
mc3:MovieClip=20=3D=20new=20MovieClip();=0D=09=20*=20=20=20=20=20=20=20=20=
=20//draw=20vector=20box=20in=20mc3=20here...=0D=09=20*=20=20=20=20=20=20=
=20=20=20=0D=09=20*=20=20=20=20=20=20=20=20=20=
lm.addChildren(mc1,mc2,mc3);=20//shortcut=20to=20add=20multiple=20=
children.=0D=09=20*=20=20=20=20=20=20=20=20=20=0D=09=20*=20=20=20=20=20=20=
=20=20=20lm.bringInFront(mc1,mc2);=20//moves=20mc1=20in=20front=20of=20=
mc2.=0D=09=20*=20=20=20=20=20=20=20=20=20lm.sendToBack(mc1);=20//sends=20=
mc1=20all=20the=20way=20to=20the=20back.=0D=09=20*=20=20=20=20=20=20=20=20=
=20lm.bringForward(mc2);=20//brings=20mc2=20forward=20(in=20front=20of=20=
mc3).=0D=09=20*=20=20=20=20=20}=0D=09=20*=20}=0D=09=20*=20</listing>=0D=09=
=20*=20=0D=09=20*=20@example=20Using=20a=20layout=20manager=20manually.=0D=
=09=20*=20<listing>=09=0D=09=20*=20var=20lm:LayoutManager=20=3D=20new=20=
LayoutManager(this);=0D=09=20*=20=0D=09=20*=20var=20mc1:MovieClip=20=3D=20=
new=20MovieClip();=0D=09=20*=20//draw=20box=20in=20mc1=0D=09=20*=20=0D=09=
=20*=20var=20mc2:MovieClip=20=3D=20new=20MovieClip();=0D=09=20*=20//draw=20=
box=20in=20mc2=0D=09=20*=20=0D=09=20*=20var=20mc3:MovieClip=20=3D=20new=20=
MovieClip();=0D=09=20*=20//draw=20box=20in=20mc3=0D=09=20*=20=0D=09=20*=20=
lm.addChildren(mc1,mc2,mc3);=0D=09=20*=20lm.bringToFront(mc1);=20//moves=20=
mc1=20in=20front=0D=09=20*=20</listing>=0D=09=20*=20=0D=09=20*=20=
<p>There=20is=20also=20an=20extended=20example=20in=20=
guttershark/examples/managers/layoutmanager/</p>=0D=09=20*=20=0D=09=20*=20=
@see=20net.guttershark.display.CoreClip#lm=20CoreClip=20lm=20property=0D=09=
=20*=20@see=20net.guttershark.display.CoreSprite#lm=20CoreSprite=20lm=20=
property=0D=09=20*/=0D=09final=20public=20class=20LayoutManager=0D=09{=0D=
=09=09/**=0D=09=09=20*=20The=20container=20in=20which=20layering=20=
operations=20will=20occur.=0D=09=09=20*/=0D=09=09protected=20var=20=
container:DisplayObjectContainer;=0D=09=09/**=0D=09=09=20*=20zero=20=
point=20for=20local=20to=20local=20translations.=0D=09=09=20*/=0D=09=09=
private=20static=20var=20ZeroPoint:Point;=0D=09=09/**=0D=09=09=20*=20The=20=
stage=20width=20from=20the=20versy=20first=20time=20a=20layout=20manager=20=
instance=20was=20created.=0D=09=09=20*/=0D=09=09private=20static=20var=20=
FirstStageWidth:int;=0D=09=09/**=0D=09=09=20*=20The=20stage=20height=20=
from=20the=20versy=20first=20time=20a=20layout=20manager=20instance=20=
was=20created.=0D=09=09=20*/=0D=09=09private=20static=20var=20=
FirstStageHeight:int;=0D=09=09/**=0D=09=09=20*=20a=20reference=20to=20=
the=20stage=0D=09=09=20*/=0D=09=09private=20static=20var=20=
StageRef:Stage;=0D=09=09/**=0D=09=09=20*=20Whether=20or=20not=20to=20use=20=
whole=20pixels=20on=20for=20x=20and=20y=20coordinates.=0D=09=09=20*/=0D=09=
=09public=20static=20var=20wholePixels:Boolean=20=3D=20true;=0D=09=09/**=0D=
=09=09=20*=20Ignore=20the=20stage=20align=20property=20and=20correctly=20=
translate=0D=09=09=20*=20stage=20alignment=20operations=20to=20the=20=
actual=20stage=20viewport=20-=0D=09=09=20*=20meaning=20if=20the=20=
stage.align=20property=20is=20anything=20other=0D=09=09=20*=20than=20=
undefined=20or=20TOP_LEFT,=20correctly=20translate=20the=20=0D=09=09=20*=20=
positioning=20offsets=20that=20occur=20when=20setting=20x=20and=20y.=0D=09=
=09=20*/=0D=09=09public=20static=20var=20ignoreStageAlign:Boolean=20=3D=20=
true;=0D=09=09=0D=09=09/**=0D=09=09=20*=20OLIVER=20Additions=0D=09=09=20=
*=20Alignment=20modes:=20whether=20to=20use=20inner=20or=20outer=20=
alignment=0D=09=09=20*=20Default=20alignment=20is=20inner:=20target=20=
objects=20will=20be=20aligned=20to=20stick=20to=20the=20inside=20edge=20=
of=20the=20relativeTo=20object=0D=09=09=20*=20Optional=20alignMode=20=
parameter=20forces=20the=20target=20be=20attached=20to=20the=20outer=20=
edge=20=0D=09=09=20*/=0D=09=09=20=0D=09=09=20public=20static=20var=20=
ALIGN_INNER:String=20=3D=20"LayoutManager_AlignInner";=0D=09=09=20public=20=
static=20var=20ALIGN_OUTER:String=20=3D=20"LayoutManager_AlignOuter";=0D=0D=
=09=09/**=0D=09=09=20*=20@private=0D=09=09=20*=20Set=20a=20reference=20=
to=20the=20stage.=0D=09=09=20*=20=0D=09=09=20*=20@param=20st=20The=20=
stage=20instance.=0D=09=09=20*/=0D=09=09public=20static=20function=20=
SetStageReference(st:Stage):void=0D=09=09{=0D=09=09=09if(!st)=20throw=20=
new=20Error("The=20{stage}=20parameter=20cannot=20be=20null.");=0D=09=09=09=
StageRef=20=3D=20st;=0D=09=09=09FirstStageHeight=20=3D=20st.stageHeight;=0D=
=09=09=09FirstStageWidth=20=3D=20st.stageWidth;=0D=09=09}=0D=0A=0D=09=09=
/**=0D=09=09=20*=20Constructor=20for=20LayoutManager=20instances.=20=0D=09=
=09=20*/=0D=09=09public=20function=20=
LayoutManager(target:DisplayObjectContainer)=0D=09=09{=0D=09=09=09=
container=20=3D=20target;=0D=09=09=09ZeroPoint=20=3D=20new=20Point(0,=20=
0);=0D=09=09=09if(!FirstStageHeight=20&&=20container.stage)=0D=09=09=09{=0D=
=09=09=09=09FirstStageHeight=20=3D=20container.stage.stageHeight;=0D=09=09=
=09=09FirstStageWidth=20=3D=20container.stage.stageWidth;=0D=09=09=09=09=
StageRef=20=3D=20container.stage;=0D=09=09=09}=0D=09=09}=0D=0D=09=09/**=0D=
=09=09=20*=20Gets=20the=20properties=20needed=20for=20container=20=
coordinate=20translations.=0D=09=09=20*=20=0D=09=09=20*=20@param=20=
target=20The=20target=20display=20object.=0D=09=09=20*=20@param=20=
relativeTo=20The=20relative=20to=20display=20object.=0D=09=09=20*/=0D=09=09=
private=20function=20getProps(target:DisplayObject,=20=
relativeTo:DisplayObject):Object=0D=09=09{=0D=09=09=09var=20props:Object=20=
=3D=20{};=0D=09=09=09props.iw=20=3D=20target.width;=0D=09=09=09props.ih=20=
=3D=20target.height;=0D=09=09=09props.tw=20=3D=20relativeTo.width;=0D=09=09=
=09props.th=20=3D=20relativeTo.height;=0D=09=09=09props.tgp=20=3D=20=
relativeTo.localToGlobal(ZeroPoint);=0D=09=09=09props.ilp=20=3D=20=
target.parent.globalToLocal(props.tgp);=0D=09=09=09return=20props;=0D=09=09=
}=0D=0D=09=09/**=0D=09=09=20*=20Bring=20a=20target=20display=20object=20=
in=20front=20of=20another=20display=20object.=0D=09=09=20*=20=0D=09=09=20=
*=20@param=20target=20The=20target=20display=20object=20to=20re-layer.=0D=
=09=09=20*=20@param=20relativeTo=20The=20display=20object=20in=20which=20=
the=20target=20will=20be=20brought=20in=20front=20of.=0D=09=09=20*/=0D=09=
=09public=20function=20bringInFront(target:DisplayObject,=20=
relativeTo:DisplayObject):void=0D=09=09{=0D=09=09=09var=20index:int=20=3D=20=
container.getChildIndex(relativeTo);=0D=09=09=09if(index=20<=20=
container.getChildIndex(target))=20index=20+=3D=201;=0D=09=09=09if(index=20=
!=3D=20-1)=20container.setChildIndex(target,=20index);=0D=09=09}=0D=0D=09=
=09/**=0D=09=09=20*=20Send=20a=20target=20display=20object=20behind=20=
another=20display=20object.=0D=09=09=20*=20=0D=09=09=20*=20@param=20=
target=20The=20target=20display=20object=20to=20re-layer.=0D=09=09=20*=20=
@param=20relativeTo=20The=20display=20object=20in=20which=20the=20target=20=
will=20be=20moved=20behind.=0D=09=09=20*/=0D=09=09public=20function=20=
sendBehind(target:DisplayObject,=20relativeTo:DisplayObject):void=0D=09=09=
{=0D=09=09=09var=20index:int=20=3D=20=
container.getChildIndex(relativeTo);=0D=09=09=09if(index=20!=3D=20-1)=20=
container.setChildIndex(target,=20index);=0D=09=09}=0D=0D=09=09/**=0D=09=09=
=20*=20Bring=20a=20display=20object=20forward=201=20layer.=0D=09=09=20*=20=
=0D=09=09=20*=20@param=20target=20The=20target=20display=20object.=0D=09=09=
=20*/=0D=09=09public=20function=20=
bringForward(target:DisplayObject):void=0D=09=09{=0D=09=09=09var=20=
index:int=20=3D=20container.getChildIndex(target)=20+=201;=0D=09=09=09=
if(index=20=3D=3D=20container.numChildren)=20return;=0D=09=09=09if(index=20=
!=3D=20-1)=20container.setChildIndex(target,=20index);=0D=09=09}=0D=0D=09=
=09/**=0D=09=09=20*=20Send=20the=20target=20display=20object=20backward=20=
1=20layer.=0D=09=09=20*=20=0D=09=09=20*=20@param=20target=20The=20target=20=
display=20object.=0D=09=09=20*/=0D=09=09public=20function=20=
sendBackward(target:DisplayObject):void=0D=09=09{=0D=09=09=09var=20=
index:int=20=3D=20Math.max(0,=20container.getChildIndex(target)=20-=20=
1);=0D=09=09=09container.setChildIndex(target,=20index);=0D=09=09=09=
if(index=20!=3D=20-1)=20container.setChildIndex(target,=20index);=0D=09=09=
}=0D=0D=09=09/**=0D=09=09=20*=20Bring=20the=20target=20display=20object=20=
to=20the=20top=20most=20layer.=0D=09=09=20*=20=0D=09=09=20*=20@param=20=
target=20The=20target=20display=20object.=0D=09=09=20*/=0D=09=09public=20=
function=20bringToFront(target:DisplayObject):void=0D=09=09{=0D=09=09=09=
var=20index:int=20=3D=20container.numChildren=20-=201;=0D=09=09=09=
container.setChildIndex(target,=20index);=0D=09=09=09if(index=20!=3D=20=
-1)=20container.setChildIndex(target,=20index);=0D=09=09}=0D=0D=09=09/**=0D=
=09=09=20*=20Send=20the=20target=20display=20object=20to=20bottom=20most=20=
layer.=0D=09=09=20*=20=0D=09=09=20*=20@param=20target=20The=20target=20=
display=20object.=0D=09=09=20*/=0D=09=09public=20function=20=
sendToBack(target:DisplayObject):void=0D=09=09{=0D=09=09=09=
container.setChildIndex(target,=200);=0D=09=09}=0D=0D=09=09/**=0D=09=09=20=
*=20Add=20all=20children=20specified=20to=20the=20display=20list.=0D=09=09=
=20*=20=0D=09=09=20*=20@param=20...children=20An=20array=20of=20display=20=
objects=20to=20add.=0D=09=09=20*/=0D=09=09public=20function=20=
addChildren(...children):void=0D=09=09{=0D=09=09=09for=20each(var=20=
child:DisplayObject=20in=20children)=20container.addChild(child);=0D=09=09=
}=0D=0D=09=09/**=0D=09=09=20*=20Add=20all=20children=20specified=20onto=20=
the=20display=20list=20of=20the=20target=20container.=0D=09=09=20*=20=0D=09=
=09=20*=20@param=20target=20A=20display=20object=20to=20add=20the=20=
spefified=20children=20onto.=0D=09=09=20*=20@param=20...children=20An=20=
array=20of=20display=20objects=20to=20add.=0D=09=09=20*/=0D=09=09public=20=
function=20addChildrenTo(target:DisplayObjectContainer,...children):void=0D=
=09=09{=0D=09=09=09for=20each(var=20child:DisplayObject=20in=20children)=20=
target.addChild(child);=0D=09=09}=0D=0D=09=09/**=0D=09=09=20*=20Remove=20=
all=20children=20from=20the=20display=20list.=0D=09=09=20*/=0D=09=09=
public=20function=20removeAllChildren():void=0D=09=09{=0D=09=09=09=
if(container.numChildren=20<=201)=20return;=0D=09=09=09var=20i:int=20=3D=20=
0;=0D=09=09=09var=20l:int=20=3D=20container.numChildren;=0D=09=09=09=
for(i;i=20<=20l;i++)=20container.removeChildAt(0);=0D=09=09}=0D=0D=09=09=
/**=0D=09=09=20*=20Remove=20all=20children=20specified=20from=20the=20=
display=20list.=0D=09=09=20*=20=0D=09=09=20*=20@param=20...children=20=
The=20children=20to=20remove.=0D=09=09=20*/=0D=09=09public=20function=20=
removeChildren(...children):void=0D=09=09{=0D=09=09=09for=20each(var=20=
child:DisplayObject=20in=20children)=20container.removeChild(child);=0D=09=
=09}=0D=0D=09=09/**=0D=09=09=20*=20Remove=20specified=20children=20from=20=
the=20target=20DisplayObjectContainer's=20display=20list.=0D=09=09=20*=20=
=0D=09=09=20*=20@param=20target=20A=20display=20object=20to=20remove=20=
the=20spefified=20children=20from.=0D=09=09=20*=20@param=20...children=20=
The=20children=20to=20remove.=0D=09=09=20*/=0D=09=09public=20function=20=
removeChildrenFrom(target:DisplayObjectContainer,=20...children):void=0D=09=
=09{=0D=09=09=09for=20each(var=20child:DisplayObject=20in=20children)=20=
target.removeChild(child);=0D=09=09}=0D=0D=09=09/**=0D=09=09=20*=20=
Remove=20all=20children=20from=20the=20display=20list=20of=20the=20=
specified=20target=20object.=0D=09=09=20*=20=0D=09=09=20*=20@param=20=
target=20The=20target=20display=20object=20container=20whose=20children=20=
will=20be=20removed.=0D=09=09=20*/=0D=09=09public=20function=20=
removeAllChildrenFrom(target:DisplayObjectContainer):void=0D=09=09{=0D=09=
=09=09if(target.numChildren=20<=201)=20return;=0D=09=09=09var=20i:int=20=
=3D=200;=0D=09=09=09var=20l:int=20=3D=20target.numChildren;=0D=09=09=09=
for(i;i=20<=20l;i++)=20target.removeChildAt(0);=0D=09=09}=0D=09=09=0D=09=09=
=0D=09=09/*=20ALIGNMENT=20methods=0D=09=09=
--------------------------------------------------------------------------=
--------------------*/=0D=09=09/**=0D=09=09=20*=20Align=20the=20target=20=
display=20object=20centered=20on=20the=20x=20coordinate=20relatively=0D=09=
=09=20*=20to=20another=20display=20object.=0D=09=09=20*=20=0D=09=09=20*=20=
@param=20target=20The=20target=20display=20object=20to=20align.=0D=09=09=20=
*=20@param=20relativeTo=20The=20target=20display=20object=20that=20=
target=20will=20be=20aligned=20to.=0D=09=09=20*/=0D=09=09public=20=
function=20alignXCenter(target:DisplayObject,=20=
relativeTo:DisplayObject):void=0D=09=09{=0D=09=09=09var=20props:Object=20=
=3D=20getProps(target,=20relativeTo);=0D=09=09=09var=20targetX:Number=20=
=3D=20props.ilp.x=20+=20((props.tw=20-=20props.iw)=20/=202);=0D=09=09=09=
target.x=20=3D=20(wholePixels)=20?=20Math.round(targetX)=20:=20targetX;=0D=
=09=09}=0D=0D=09=09/**=0D=09=09=20*=20Align=20the=20target=20display=20=
object=20centered=20on=20the=20y=20coordinate=20relatively=0D=09=09=20*=20=
to=20another=20display=20object.=0D=09=09=20*=20=0D=09=09=20*=20@param=20=
target=20The=20target=20display=20object=20to=20align.=0D=09=09=20*=20=
@param=20relativeTo=20The=20target=20display=20object=20that=20target=20=
will=20be=20aligned=20to.=0D=09=09=20*/=0D=09=09public=20function=20=
alignYCenter(target:DisplayObject,=20relativeTo:DisplayObject):void=20=0D=
=09=09{=0D=09=09=09var=20props:Object=20=3D=20getProps(target,=20=
relativeTo);=0D=09=09=09var=20targetY:Number=20=3D=20props.ilp.y=20+=20=
((props.th=20-=20props.ih)=20/=202);=0D=09=09=09target.y=20=3D=20=
(wholePixels)=20?=20Math.round(targetY)=20:=20targetY;=0D=09=09}=0D=0D=09=
=09/**=0D=09=09=20*=20Align=20the=20target=20display=20object=20to=20the=20=
right=20edge=20of=20another=20display=20object.=0D=09=09=20*=20=0D=09=09=20=
*=20@param=20target=20The=20target=20display=20object=20to=20align.=0D=09=
=09=20*=20@param=20relativeTo=20The=20target=20display=20object=20that=20=
target=20will=20be=20aligned=20to.=0D=09=09=20*=20@param=20alignMode=20=
Inner=20or=20outer=20align=20(default:=20inner)=20=0D=09=09=20*/=0D=09=09=
public=20function=20alignRight(target:DisplayObject,=20=
relativeTo:DisplayObject,=20alignMode:String=3Dnull):void=0D=09=09{=0D=09=
=09=09var=20props:Object=20=3D=20getProps(target,=20relativeTo);=0D=09=09=
=09var=20targetX:Number;=0D=09=09=09=0D=09=09=09switch(alignMode)=20{=0D=09=
=09=09=09case=20LayoutManager.ALIGN_OUTER:=0D=09=09=09=09=09targetX=20=3D=20=
props.ilp.x=20+=20props.tw;=0D=09=09=09=09=09break;=0D=09=09=09=09=0D=09=09=
=09=09case=20LayoutManager.ALIGN_INNER:=0D=09=09=09=09default:=0D=09=09=09=
=09=09targetX=20=3D=20props.ilp.x=20+=20(props.tw=20-=20props.iw);=0D=09=09=
=09=09=09break;=0D=09=09=09}=0D=09=09=09=0D=09=09=09target.x=20=3D=20=
(wholePixels)=20?=20Math.round(targetX)=20:=20targetX;=0D=09=09}=0D=0D=09=
=09/**=0D=09=09=20*=20Align=20the=20target=20display=20object=20to=20the=20=
left=20edge=20of=20another=20display=20object.=0D=09=09=20*=20=0D=09=09=20=
*=20@param=20target=20The=20target=20display=20object=20to=20align.=0D=09=
=09=20*=20@param=20relativeTo=20The=20target=20display=20object=20that=20=
target=20will=20be=20aligned=20to.=0D=09=09=20*=20@param=20alignMode=20=
Inner=20or=20outer=20align=20(default:=20inner)=0D=09=09=20*/=09=0D=09=09=
public=20function=20alignLeft(target:DisplayObject,=20=
relativeTo:DisplayObject,=20alignMode:String=3Dnull):void=0D=09=09{=0D=09=
=09=09var=20props:Object=20=3D=20getProps(target,=20relativeTo);=0D=09=09=
=09var=20targetX:Number;=0D=09=09=09=0D=09=09=09switch(alignMode)=20{=0D=09=
=09=09=09case=20LayoutManager.ALIGN_OUTER:=0D=09=09=09=09=09targetX=20=3D=20=
props.ilp.x=20-=20props.iw;=0D=09=09=09=09=09break;=0D=09=09=09=09=0D=09=09=
=09=09case=20LayoutManager.ALIGN_INNER:=0D=09=09=09=09default:=0D=09=09=09=
=09=09targetX=20=3D=20props.ilp.x;=0D=09=09=09=09=09break;=0D=09=09=09}=0D=
=09=09=09=0D=09=09=09target.x=20=3D=20(wholePixels)=20?=20=
Math.round(targetX)=20:=20targetX;=0D=09=09}=0D=0D=09=09/**=0D=09=09=20*=20=
Align=20a=20display=20object=20to=20the=20top=20edge=20of=20another=20=
display=20object.=0D=09=09=20*=20=0D=09=09=20*=20@param=20target=20The=20=
target=20display=20object=20to=20align.=0D=09=09=20*=20@param=20=
relativeTo=20The=20target=20display=20object=20that=20target=20will=20be=20=
aligned=20to.=0D=09=09=20*=20@param=20alignMode=20Inner=20or=20outer=20=
align=20(default:=20inner)=0D=09=09=20*/=0D=09=09public=20function=20=
alignTop(target:DisplayObject,=20relativeTo:DisplayObject,=20=
alignMode:String=3Dnull):void=0D=09=09{=0D=09=09=09var=20props:Object=20=
=3D=20getProps(target,=20relativeTo);=0D=09=09=09var=20targetY:Number;=0D=
=09=09=09=0D=09=09=09switch(alignMode)=20{=0D=09=09=09=09case=20=
LayoutManager.ALIGN_OUTER:=0D=09=09=09=09=09targetY=20=3D=20props.ilp.y=20=
-=20props.ih;=0D=09=09=09=09=09break;=0D=09=09=09=09=0D=09=09=09=09case=20=
LayoutManager.ALIGN_INNER:=0D=09=09=09=09default:=0D=09=09=09=09=09=
targetY=20=3D=20props.ilp.y;=0D=09=09=09=09=09break;=0D=09=09=09}=0D=09=09=
=09=0D=09=09=09target.y=20=3D=20(wholePixels)=20?=20Math.round(targetY)=20=
:=20targetY;=0D=09=09}=0D=0D=09=09/**=0D=09=09=20*=20Align=20a=20display=20=
object=20to=20the=20bottom=20edge=20of=20another=20display=20object.=0D=09=
=09=20*=20=0D=09=09=20*=20@param=20target=20The=20target=20display=20=
object=20to=20align.=0D=09=09=20*=20@param=20relativeTo=20The=20target=20=
display=20object=20that=20target=20will=20be=20aligned=20to.=0D=09=09=20=
*=20@param=20alignMode=20Inner=20or=20outer=20align=20(default:=20inner)=0D=
=09=09=20*/=0D=09=09public=20function=20=
alignBottom(target:DisplayObject,=20relativeTo:DisplayObject,=20=
alignMode:String=3Dnull):void=0D=09=09{=0D=09=09=09var=20props:Object=20=
=3D=20getProps(target,=20relativeTo);=0D=09=09=09var=20targetY:Number;=0D=
=09=09=09=0D=09=09=09switch(alignMode)=20{=0D=09=09=09=09case=20=
LayoutManager.ALIGN_OUTER:=0D=09=09=09=09=09targetY=20=3D=20props.ilp.y=20=
+=20props.th;=0D=09=09=09=09=09break;=0D=09=09=09=09=0D=09=09=09=09case=20=
LayoutManager.ALIGN_INNER:=0D=09=09=09=09default:=0D=09=09=09=09=09=
targetY=20=3D=20props.ilp.y=20+=20(props.th=20-=20props.ih);=0D=09=09=09=09=
=09break;=0D=09=09=09}=0D=09=09=09=0D=09=09=09target.y=20=3D=20=
(wholePixels)=20?=20Math.round(targetY)=20:=20targetY;=0D=09=09}=0D=0D=09=
=09/**=0D=09=09=20*=20Align=20a=20display=20object=20to=20the=20dead=20=
center=20of=20another=20display=20object.=0D=09=09=20*=20=0D=09=09=20*=20=
@param=20target=20The=20target=20display=20object=20to=20align.=0D=09=09=20=
*=20@param=20relativeTo=20The=20target=20display=20object=20that=20=
target=20will=20be=20aligned=20to.=0D=09=09=20*/=0D=09=09public=20=
function=20alignCenter(target:DisplayObject,=20=
relativeTo:DisplayObject):void=0D=09=09{=0D=09=09=09alignXCenter(target,=20=
relativeTo);=0D=09=09=09alignYCenter(target,=20relativeTo);=0D=09=09}=0D=0D=
=09=09/**=0D=09=09=20*=20Align=20a=20display=20object=20to=20the=20top=20=
center=20of=20another=20display=20object.=0D=09=09=20*=20=0D=09=09=20*=20=
@param=20target=20The=20target=20display=20object=20to=20align.=0D=09=09=20=
*=20@param=20relativeTo=20The=20target=20display=20object=20that=20=
target=20will=20be=20aligned=20to.=0D=09=09=20*=20@param=20alignMode=20=
Inner=20or=20outer=20align=20(default:=20inner)=0D=09=09=20*/=0D=09=09=
public=20function=20alignTopCenter(target:DisplayObject,=20=
relativeTo:DisplayObject,=20alignMode:String=3Dnull):void=0D=09=09{=0D=09=
=09=09alignXCenter(target,=20relativeTo);=0D=09=09=09alignTop(target,=20=
relativeTo,=20alignMode);=0D=09=09}=0D=0D=09=09/**=0D=09=09=20*=20Align=20=
a=20display=20object=20to=20the=20bottom=20center=20of=20another=20=
display=20object.=0D=09=09=20*=20=0D=09=09=20*=20@param=20target=20The=20=
target=20display=20object=20to=20align.=0D=09=09=20*=20@param=20=
relativeTo=20The=20target=20display=20object=20that=20target=20will=20be=20=
aligned=20to.=0D=09=09=20*=20@param=20alignMode=20Inner=20or=20outer=20=
align=20(default:=20inner)=0D=09=09=20*/=0D=09=09public=20function=20=
alignBottomCenter(target:DisplayObject,=20relativeTo:DisplayObject,=20=
alignMode:String=3Dnull):void=0D=09=09{=0D=09=09=09alignXCenter(target,=20=
relativeTo);=0D=09=09=09alignBottom(target,=20relativeTo,=20alignMode);=0D=
=09=09}=0D=0D=09=09/**=0D=09=09=20*=20Align=20a=20display=20object=20to=20=
the=20top=20left=20corner=20of=20another=20display=20object.=0D=09=09=20=
*=20=0D=09=09=20*=20@param=20target=20The=20target=20display=20object=20=
to=20align.=0D=09=09=20*=20@param=20relativeTo=20The=20target=20display=20=
object=20that=20target=20will=20be=20aligned=20to.=0D=09=09=20*=20@param=20=
alignModeX=20x-Axis=20alignment:=20inner=20or=20outer=20(default:=20=
inner)=0D=09=09=20*=20@param=20alignModeX=20y-Axis=20alignment:=20inner=20=
or=20outer=20(default:=20inner)=0D=09=09=20*/=0D=09=09public=20function=20=
alignTopLeft(target:DisplayObject,=20relativeTo:DisplayObject,=20=
alignModeX:String=3Dnull,=20alignModeY:String=3Dnull):void=0D=09=09{=0D=09=
=09=09alignLeft(target,=20relativeTo,=20alignModeX);=0D=09=09=09=
alignTop(target,=20relativeTo,=20alignModeY);=0D=09=09}=0D=0D=09=09/**=0D=
=09=09=20*=20Align=20a=20display=20object=20to=20the=20left=20middle=20=
of=20another=20display=20object.=0D=09=09=20*=20=0D=09=09=20*=20@param=20=
target=20The=20target=20display=20object=20to=20align.=0D=09=09=20*=20=
@param=20relativeTo=20The=20target=20display=20object=20that=20target=20=
will=20be=20aligned=20to.=0D=09=09=20*=20@param=20alignMode=20Inner=20or=20=
outer=20align=20(default:=20inner)=0D=09=09=20*/=0D=09=09public=20=
function=20alignMiddleLeft(target:DisplayObject,=20=
relativeTo:DisplayObject,=20alignMode:String=3Dnull):void=0D=09=09{=0D=09=
=09=09alignLeft(target,=20relativeTo,=20alignMode);=0D=09=09=09=
alignYCenter(target,=20relativeTo);=0D=09=09}=0D=0D=09=09/**=0D=09=09=20=
*=20Align=20a=20display=20object=20to=20the=20bottom=20left=20corner=20=
of=20another=20display=20object.=0D=09=09=20*=20=0D=09=09=20*=20@param=20=
target=20The=20target=20display=20object=20to=20align.=0D=09=09=20*=20=
@param=20relativeTo=20The=20target=20display=20object=20that=20target=20=
will=20be=20aligned=20to.=0D=09=09=20*=20@param=20alignModeX=20x-Axis=20=
alignment:=20inner=20or=20outer=20(default:=20inner)=0D=09=09=20*=20=
@param=20alignModeX=20y-Axis=20alignment:=20inner=20or=20outer=20=
(default:=20inner)=0D=09=09=20*/=0D=09=09public=20function=20=
alignBottomLeft(target:DisplayObject,=20relativeTo:DisplayObject,=20=
alignModeX:String=3Dnull,=20alignModeY:String=3Dnull):void=0D=09=09{=0D=09=
=09=09alignLeft(target,=20relativeTo,=20alignModeX);=0D=09=09=09=
alignBottom(target,=20relativeTo,=20alignModeY);=0D=09=09}=0D=0D=09=09=
/**=0D=09=09=20*=20Align=20a=20display=20object=20to=20the=20top=20right=20=
corner=20of=20another=20display=20object.=0D=09=09=20*=20=0D=09=09=20*=20=
@param=20target=20The=20target=20display=20object=20to=20align.=0D=09=09=20=
*=20@param=20relativeTo=20The=20target=20display=20object=20that=20=
target=20will=20be=20aligned=20to.=0D=09=09=20*=20@param=20alignModeX=20=
x-Axis=20alignment:=20inner=20or=20outer=20(default:=20inner)=0D=09=09=20=
*=20@param=20alignModeX=20y-Axis=20alignment:=20inner=20or=20outer=20=
(default:=20inner)=0D=09=09=20*/=0D=09=09public=20function=20=
alignTopRight(target:DisplayObject,=20relativeTo:DisplayObject,=20=
alignModeX:String=3Dnull,=20alignModeY:String=3Dnull):void=0D=09=09{=0D=09=
=09=09alignRight(target,=20relativeTo,=20alignModeX);=0D=09=09=09=
alignTop(target,=20relativeTo,=20alignModeY);=0D=09=09}=0D=0D=09=09/**=0D=
=09=09=20*=20Align=20a=20display=20object=20to=20the=20right=20middle=20=
of=20another=20display=20object.=0D=09=09=20*=20=0D=09=09=20*=20@param=20=
target=20The=20target=20display=20object=20to=20align.=0D=09=09=20*=20=
@param=20relativeTo=20The=20target=20display=20object=20that=20target=20=
will=20be=20aligned=20to.=0D=09=09=20*/=0D=09=09public=20function=20=
alignMiddleRight(target:DisplayObject,=20relativeTo:DisplayObject,=20=
alignMode:String=3Dnull):void=0D=09=09{=0D=09=09=09alignRight(target,=20=
relativeTo,=20alignMode);=0D=09=09=09alignYCenter(target,=20relativeTo);=0D=
=09=09}=0D=0D=09=09/**=0D=09=09=20*=20Align=20a=20display=20object=20to=20=
the=20bottom=20right=20corner=20of=20another=20display=20object.=0D=09=09=
=20*=20=0D=09=09=20*=20@param=20target=20The=20target=20display=20object=20=
to=20align.=0D=09=09=20*=20@param=20relativeTo=20The=20target=20display=20=
object=20that=20target=20will=20be=20aligned=20to.=0D=09=09=20*=20@param=20=
alignModeX=20x-Axis=20alignment:=20inner=20or=20outer=20(default:=20=
inner)=0D=09=09=20*=20@param=20alignModeX=20y-Axis=20alignment:=20inner=20=
or=20outer=20(default:=20inner)=0D=09=09=20*/=0D=09=09public=20function=20=
alignBottomRight(target:DisplayObject,=20relativeTo:DisplayObject,=20=
alignModeX:String=3Dnull,=20alignModeY:String=3Dnull):void=0D=09=09{=0D=09=
=09=09alignRight(target,=20relativeTo,=20alignModeX);=0D=09=09=09=
alignBottom(target,=20relativeTo,=20alignModeY);=0D=09=09}=0D=0D=09=09=
/**=0D=09=09=20*=20Checks=20for=20a=20stage=20reference,=20if=20there=20=
is=20one,=20updates=20the=20properties=20needed=0D=09=09=20*=20for=20=
stage=20align=20methods=20otherwise=20throws=20an=20error=20because=20=
the=0D=09=09=20*=20container=20must=20be=20on=20the=20stage.=0D=09=09=20=
*/=0D=09=09private=20function=20checkForStageAndUpdate():void=0D=09=09{=0D=
=09=09=09if(!container.stage)=20throw=20new=20Error("The=20container=20=
used=20for=20the=20layout=20manager=20must=20be=20on=20the=20stage,=20=
before=20using=20any=20of=20the=20stage=20align=20methods.");=0D=09=09=09=
if(!FirstStageHeight)=0D=09=09=09{=0D=09=09=09=09FirstStageHeight=20=3D=20=
container.stage.stageHeight;=0D=09=09=09=09FirstStageWidth=20=3D=20=
container.stage.stageWidth;=0D=09=09=09=09StageRef=20=3D=20=
container.stage;=0D=09=09=09}=0D=09=09}=0D=0D=09=09/**=0D=09=09=20*=20=
Gets=20common=20properties=20for=20the=20target=20item.=0D=09=09=20*=20=0D=
=09=09=20*=20@param=20item=20The=20target=20display=20object.=0D=09=09=20=
*/=0D=09=09private=20function=20=
propsForStageAligns(item:DisplayObject):Object=0D=09=09{=0D=09=09=09=
checkForStageAndUpdate();=0D=09=09=09var=20props:Object=20=3D=20{};=0D=09=
=09=09=09props.iw=20=3D=20item.width;=0D=09=09=09=09props.ih=20=3D=20=
item.height;=0D=09=09=09return=20props;=0D=09=09}=0D=0D=09=09/**=0D=09=09=
=20*=20Takes=20care=20of=20updating=20the=20X=20coordinate=20for=20=
adjustments=20to=0D=09=09=20*=20stage=20size=20by=20resize,=20because=20=
if=20the=20stage.align=20property=0D=09=09=20*=20is=20anything=20other=20=
than=20top=20left,=20the=20coordinates=20get=0D=09=09=20*=20shifted=20=
strangely.=0D=09=09=20*/=0D=09=09private=20function=20=
updatePointXForStageAdjustments(p:Point):Point=0D=09=09{=0D=09=09=09=
if(StageRef.stageHeight=20=3D=3D=20FirstStageHeight=20&&=20=
StageRef.stageWidth=20=3D=3D=20FirstStageWidth)=20return=20p;=0D=09=09=09=
if(!(StageRef.align=20||=20StageRef.align=20=3D=3D=20"T"=20||=20=
StageRef.align=20=3D=3D=20"B"))=0D=09=09=09{=0D=09=09=09=09=
if(FirstStageWidth=20<=20StageRef.stageWidth)=20p.x=20-=3D=20=
(StageRef.stageWidth=20-=20FirstStageWidth)=20/=202;=0D=09=09=09=09else=20=
p.x=20+=3D=20(FirstStageWidth=20-=20StageRef.stageWidth)=20/=202;=0D=09=09=
=09}=0D=09=09=09else=20if(StageRef.align=20=3D=3D=20"R"=20||=20=
StageRef.align=20=3D=3D=20"TR"=20||=20StageRef.align=20=3D=3D=20"BR")=0D=09=
=09=09{=0D=09=09=09=09if(FirstStageWidth=20<=20StageRef.stageWidth)=20=
p.x=20-=3D=20(StageRef.stageWidth=20-=20FirstStageWidth);=0D=09=09=09=09=
else=20p.x=20+=3D=20(FirstStageWidth=20-=20StageRef.stageWidth);=0D=09=09=
=09}=0D=09=09=09if(wholePixels)=20p.x=20=3D=20Math.round(p.x);=0D=09=09=09=
return=20p;=0D=09=09}=0D=0D=09=09/**=0D=09=09=20*=20Takes=20care=20of=20=
updating=20the=20Y=20coordinate=20for=20adjustments=20to=0D=09=09=20*=20=
stage=20size=20by=20resize,=20because=20if=20the=20stage.align=20=
property=0D=09=09=20*=20is=20anything=20other=20than=20top=20left,=20the=20=
coordinates=20get=0D=09=09=20*=20shifted=20strangely.=0D=09=09=20*/=0D=09=
=09private=20function=20updatePointYForStageAdjustments(p:Point):Point=0D=
=09=09{=0D=09=09=09if(StageRef.stageHeight=20=3D=3D=20FirstStageHeight=20=
&&=20StageRef.stageWidth=20=3D=3D=20FirstStageWidth)=20return=20p;=0D=09=09=
=09if(!(StageRef.align)=20||=20StageRef.align=20=3D=3D=20"L"=20||=20=
StageRef.align=20=3D=3D=20"R")=0D=09=09=09{=0D=09=09=09=09=
if(FirstStageHeight=20<=20StageRef.stageHeight)=20p.y=20-=3D=20=
(StageRef.stageHeight=20-=20FirstStageHeight)=20/=202;=0D=09=09=09=09=
else=20p.y=20+=3D=20(FirstStageHeight=20-=20StageRef.stageHeight)=20/=20=
2;=0D=09=09=09}=0D=09=09=09else=20if(StageRef.align=20=3D=3D=20"BL"=20||=20=
StageRef.align=20=3D=3D=20"BR"=20||=20StageRef.align=20=3D=3D=20"B")=0D=09=
=09=09{=0D=09=09=09=09if(FirstStageHeight=20<=20StageRef.stageHeight)=20=
p.y=20-=3D=20(StageRef.stageHeight=20-=20FirstStageHeight);=0D=09=09=09=09=
else=20p.y=20+=3D=20(FirstStageHeight=20-=20StageRef.stageHeight);=0D=09=09=
=09}=0D=09=09=09if(wholePixels)=20p.y=20=3D=20Math.round(p.y);=0D=09=09=09=
return=20p;=0D=09=09}=0D=0D=09=09/**=0D=09=09=20*=20Align=20the=20target=20=
display=20object=20centered=20on=20the=20x=20coordinate=20relatively=0D=09=
=09=20*=20to=20the=20stage.=0D=09=09=20*=20=0D=09=09=20*=20@param=20=
target=20The=20target=20display=20object=20to=20align.=0D=09=09=20*/=0D=09=
=09public=20function=20stageAlignXCenter(target:DisplayObject):void=0D=09=
=09{=0D=09=09=09var=20props:Object=20=3D=20propsForStageAligns(target);=0D=
=09=09=09var=20nx:int=20=3D=20(container.stage.stageWidth=20-=20=
props.iw)=20/=202;=0D=09=09=09var=20p:Point=20=3D=20new=20Point(nx,=20=
0);=0D=09=09=09var=20np:Point=20=3D=20target.parent.globalToLocal(p);=0D=09=
=09=09if(ignoreStageAlign)=20np=20=3D=20=
updatePointXForStageAdjustments(np);=0D=09=09=09target.x=20=3D=20np.x;=0D=
=09=09}=0D=0D=09=09/**=0D=09=09=20*=20Align=20the=20target=20display=20=
object=20centered=20on=20the=20y=20coordinate=20relatively=0D=09=09=20*=20=
to=20the=20stage.=0D=09=09=20*=20=0D=09=09=20*=20@param=20target=20The=20=
target=20display=20object=20to=20align.=0D=09=09=20*/=0D=09=09public=20=
function=20stageAlignYCenter(item:DisplayObject):void=0D=09=09{=0D=09=09=09=
var=20props:Object=20=3D=20propsForStageAligns(item);=0D=09=09=09var=20=
ny:int=20=3D=20(container.stage.stageHeight=20-=20props.ih)=20/=202;=0D=09=
=09=09var=20p:Point=20=3D=20new=20Point(0,=20ny);=0D=09=09=09var=20=
np:Point=20=3D=20item.parent.globalToLocal(p);=0D=09=09=09=
if(ignoreStageAlign)=20np=20=3D=20updatePointYForStageAdjustments(np);=0D=
=09=09=09item.y=20=3D=20np.y;=0D=09=09}=0D=0D=09=09/**=0D=09=09=20*=20=
Align=20the=20target=20display=20object=20to=20the=20right=20edge=20of=20=
the=20stage.=0D=09=09=20*=20=0D=09=09=20*=20@param=20target=20The=20=
target=20display=20object=20to=20align.=0D=09=09=20*=20@param=20=
alignMode=20Inner=20or=20outer=20align=20(default:=20inner)=0D=09=09=20=
*/=0D=09=09public=20function=20stageAlignRight(target:DisplayObject,=20=
alignMode:String=3Dnull):void=0D=09=09{=0D=09=09=09var=20props:Object=20=
=3D=20propsForStageAligns(target);=09=09=0D=09=09=09var=20nx:int;=0D=09=09=
=09=09=09=0D=09=09=09switch(alignMode)=20{=0D=09=09=09=09case=20=
LayoutManager.ALIGN_OUTER:=0D=09=09=09=09=09nx=20=3D=20=
container.stage.stageWidth;=0D=09=09=09=09=09break;=0D=09=09=09=09=0D=09=09=
=09=09case=20LayoutManager.ALIGN_INNER:=0D=09=09=09=09default:=0D=09=09=09=
=09=09nx=20=3D=20(container.stage.stageWidth=20-=20props.iw);=0D=09=09=09=
=09=09break;=0D=09=09=09}=0D=09=09=09=0D=09=09=09var=20p:Point=20=3D=20=
new=20Point(nx,=200);=0D=09=09=09var=20np:Point=20=3D=20=
target.parent.globalToLocal(p);=0D=09=09=09if(ignoreStageAlign)=20np=20=3D=
=20updatePointXForStageAdjustments(np);=0D=09=09=09target.x=20=3D=20=
np.x;=0D=09=09}=0D=0D=09=09/**=0D=09=09=20*=20Align=20the=20target=20=
display=20object=20to=20the=20left=20edge=20of=20the=20stage.=0D=09=09=20=
*=20=0D=09=09=20*=20@param=20target=20The=20target=20display=20object=20=
to=20align.=0D=09=09=20*=20@param=20alignMode=20Inner=20or=20outer=20=
align=20(default:=20inner)=0D=09=09=20*/=0D=09=09public=20function=20=
stageAlignLeft(target:DisplayObject,=20alignMode:String=3Dnull):void=0D=09=
=09{=0D=09=09=09var=20p:Point=20=3D=20new=20Point(0,=200);=0D=09=09=09=
var=20np:Point=20=3D=20target.parent.globalToLocal(p);=0D=09=09=09=
if(ignoreStageAlign)=20np=20=3D=20updatePointXForStageAdjustments(np);=0D=
=09=09=09=0D=09=09=09var=20targetX:Number;=0D=09=09=09switch(alignMode)=20=
{=0D=09=09=09=09case=20LayoutManager.ALIGN_OUTER:=0D=09=09=09=09=09=
targetX=20=3D=20(np.x=20-=20target.width);=0D=09=09=09=09=09break;=0D=09=09=
=09=09=0D=09=09=09=09case=20LayoutManager.ALIGN_INNER:=0D=09=09=09=09=
default:=0D=09=09=09=09=09targetX=20=3D=20np.x;=0D=09=09=09=09=09break;=0D=
=09=09=09}=0D=09=09=09=0D=09=09=09target.x=20=3D=20(wholePixels)=20?=20=
Math.round(targetX)=20:=20targetX;=0D=09=09}=0D=0D=09=09/**=0D=09=09=20*=20=
Align=20the=20target=20display=20object=20to=20the=20bottom=20edge=20of=20=
the=20stage.=0D=09=09=20*=20=0D=09=09=20*=20@param=20target=20The=20=
target=20display=20object=20to=20align.=0D=09=09=20*=20@param=20=
alignMode=20Inner=20or=20outer=20align=20(default:=20inner)=0D=09=09=20=
*/=0D=09=09public=20function=20stageAlignBottom(target:DisplayObject,=20=
alignMode:String=3Dnull):void=0D=09=09{=0D=09=09=09var=20props:Object=20=
=3D=20propsForStageAligns(target);=0D=09=09=09var=20ny:int;=0D=09=09=09=0D=
=09=09=09switch(alignMode)=20{=0D=09=09=09=09case=20=
LayoutManager.ALIGN_OUTER:=0D=09=09=09=09=09ny=20=3D=20=
container.stage.stageHeight;=0D=09=09=09=09=09break;=0D=09=09=09=09=0D=09=
=09=09=09case=20LayoutManager.ALIGN_INNER:=0D=09=09=09=09default:=0D=09=09=
=09=09=09ny=20=3D=20(container.stage.stageHeight=20-=20props.ih);=0D=09=09=
=09=09=09break;=0D=09=09=09}=0D=09=09=09=0D=09=09=09var=20p:Point=20=3D=20=
new=20Point(0,=20ny);=0D=09=09=09var=20np:Point=20=3D=20=
target.parent.globalToLocal(p);=0D=09=09=09if(ignoreStageAlign)=20np=20=3D=
=20updatePointYForStageAdjustments(np);=0D=09=09=09target.y=20=3D=20=
np.y;=0D=09=09}=0D=0D=09=09/**=0D=09=09=20*=20Align=20the=20target=20=
display=20object=20to=20the=20top=20edge=20of=20the=20stage.=0D=09=09=20=
*=20=0D=09=09=20*=20@param=20target=20The=20target=20display=20object=20=
to=20align.=0D=09=09=20*=20@param=20alignMode=20Inner=20or=20outer=20=
align=20(default:=20inner)=0D=09=09=20*/=0D=09=09public=20function=20=
stageAlignTop(target:DisplayObject,=20alignMode:String=3Dnull):void=0D=09=
=09{=0D=09=09=09var=20p:Point=20=3D=20=
target.parent.globalToLocal(ZeroPoint);=0D=09=09=09if(ignoreStageAlign)=20=
p=20=3D=20updatePointYForStageAdjustments(p);=0D=09=09=09=0D=09=09=09var=20=
targetY:Number;=0D=09=09=09switch(alignMode)=20{=0D=09=09=09=09case=20=
LayoutManager.ALIGN_OUTER:=0D=09=09=09=09=09targetY=20=3D=20(p.y=20-=20=
target.height);=0D=09=09=09=09=09break;=0D=09=09=09=09=0D=09=09=09=09=
case=20LayoutManager.ALIGN_INNER:=0D=09=09=09=09default:=0D=09=09=09=09=09=
targetY=20=3D=20p.y;=0D=09=09=09=09=09break;=0D=09=09=09}=0D=09=09=09=0D=09=
=09=09target.y=20=3D=20(wholePixels)=20?=20Math.round(targetY)=20:=20=
targetY;=0D=09=09}=0D=0D=09=09/**=0D=09=09=20*=20Align=20the=20target=20=
display=20object=20to=20the=20dead=20center=20of=20the=20stage.=0D=09=09=20=
*=20=0D=09=09=20*=20@param=20target=20The=20target=20display=20object=20=
to=20align.=0D=09=09=20*/=0D=09=09public=20function=20=
stageAlignCenter(target:DisplayObject):void=0D=09=09{=0D=09=09=09=
stageAlignXCenter(target);=0D=09=09=09stageAlignYCenter(target);=0D=09=09=
}=0D=0D=09=09/**=0D=09=09=20*=20Align=20the=20target=20display=20object=20=
to=20the=20right=20middle=20of=20the=20stage.=0D=09=09=20*=20=0D=09=09=20=
*=20@param=20target=20The=20target=20display=20object=20to=20align.=0D=09=
=09=20*=20@param=20alignMode=20Inner=20or=20outer=20align=20(default:=20=
inner)=0D=09=09=20*/=0D=09=09public=20function=20=
stageAlignMiddleRight(target:DisplayObject,=20=
alignMode:String=3Dnull):void=0D=09=09{=0D=09=09=09=
stageAlignRight(target,=20alignMode);=0D=09=09=09=
stageAlignYCenter(target);=0D=09=09}=0D=0D=09=09/**=0D=09=09=20*=20Align=20=
the=20target=20display=20object=20to=20the=20left=20middle=20of=20the=20=
stage.=0D=09=09=20*=20=0D=09=09=20*=20@param=20target=20The=20target=20=
display=20object=20to=20align.=0D=09=09=20*=20@param=20alignMode=20Inner=20=
or=20outer=20align=20(default:=20inner)=0D=09=09=20*/=0D=09=09public=20=
function=20stageAlignMiddleLeft(target:DisplayObject,=20=
alignMode:String=3Dnull):void=0D=09=09{=0D=09=09=09=
stageAlignLeft(target,=20alignMode);=0D=09=09=09=
stageAlignYCenter(target);=0D=09=09}=0D=0D=09=09/**=0D=09=09=20*=20Align=20=
the=20target=20display=20object=20to=20the=20top=20center=20of=20the=20=
stage.=0D=09=09=20*=20=0D=09=09=20*=20@param=20target=20The=20target=20=
display=20object=20to=20align.=0D=09=09=20*=20@param=20alignMode=20Inner=20=
or=20outer=20align=20(default:=20inner)=0D=09=09=20*/=0D=09=09public=20=
function=20stageAlignTopCenter(target:DisplayObject,=20=
alignMode:String=3Dnull):void=0D=09=09{=0D=09=09=09stageAlignTop(target,=20=
alignMode);=0D=09=09=09stageAlignXCenter(target);=0D=09=09}=0D=0D=09=09=
/**=0D=09=09=20*=20Align=20the=20target=20display=20object=20to=20the=20=
bottom=20center=20of=20the=20stage.=0D=09=09=20*=20=0D=09=09=20*=20=
@param=20target=20The=20target=20display=20object=20to=20align.=0D=09=09=20=
*=20@param=20alignMode=20Inner=20or=20outer=20align=20(default:=20inner)=0D=
=09=09=20*/=0D=09=09public=20function=20=
stageAlignBottomCenter(target:DisplayObject,=20=
alignMode:String=3Dnull):void=0D=09=09{=0D=09=09=09=
stageAlignBottom(target,=20alignMode);=0D=09=09=09=
stageAlignXCenter(target);=0D=09=09}=0D=0D=09=09/**=0D=09=09=20*=20Align=20=
the=20target=20display=20object=20to=20the=20top=20right=20corner=20of=20=
the=20stage.=0D=09=09=20*=20=0D=09=09=20*=20@param=20target=20The=20=
target=20display=20object=20to=20align.=0D=09=09=20*=20@param=20=
alignModeX=20x-Axis=20alignment:=20inner=20or=20outer=20(default:=20=
inner)=0D=09=09=20*=20@param=20alignModeX=20y-Axis=20alignment:=20inner=20=
or=20outer=20(default:=20inner)=0D=09=09=20*/=0D=09=09public=20function=20=
stageAlignTopRight(target:DisplayObject,=20alignModeX:String=3Dnull,=20=
alignModeY:String=3Dnull):void=0D=09=09{=0D=09=09=09=
stageAlignRight(target,=20alignModeX);=0D=09=09=09stageAlignTop(target,=20=
alignModeY);=0D=09=09}=0D=0D=09=09/**=0D=09=09=20*=20Align=20the=20=
target=20display=20object=20to=20the=20bottom=20right=20corner=20of=20=
the=20stage.=0D=09=09=20*=20=0D=09=09=20*=20@param=20target=20The=20=
target=20display=20object=20to=20align.=0D=09=09=20*=20@param=20=
alignModeX=20x-Axis=20alignment:=20inner=20or=20outer=20(default:=20=
inner)=0D=09=09=20*=20@param=20alignModeX=20y-Axis=20alignment:=20inner=20=
or=20outer=20(default:=20inner)=0D=09=09=20*/=0D=09=09public=20function=20=
stageAlignBottomRight(target:DisplayObject,=20alignModeX:String=3Dnull,=20=
alignModeY:String=3Dnull):void=0D=09=09{=0D=09=09=09=
stageAlignBottom(target,=20alignModeY);=0D=09=09=09=
stageAlignRight(target,=20alignModeX);=0D=09=09}=0D=0D=09=09/**=0D=09=09=20=
*=20Align=20the=20target=20display=20object=20to=20the=20bottom=20left=20=
corner=20of=20the=20stage.=0D=09=09=20*=20=0D=09=09=20*=20@param=20=
target=20The=20target=20display=20object=20to=20align.=0D=09=09=20*=20=
@param=20alignModeX=20x-Axis=20alignment:=20inner=20or=20outer=20=
(default:=20inner)=0D=09=09=20*=20@param=20alignModeX=20y-Axis=20=
alignment:=20inner=20or=20outer=20(default:=20inner)=0D=09=09=20*/=0D=09=09=
public=20function=20stageAlignBottomLeft(target:DisplayObject,=20=
alignModeX:String=3Dnull,=20alignModeY:String=3Dnull):void=0D=09=09{=0D=09=
=09=09stageAlignLeft(target,=20alignModeX);=0D=09=09=09=
stageAlignBottom(target,=20alignModeY);=0D=09=09}=0D=0D=09=09/**=0D=09=09=
=20*=20Align=20the=20target=20display=20object=20to=20the=20top=20left=20=
corner=20of=20the=20stage.=0D=09=09=20*=20=0D=09=09=20*=20@param=20=
target=20The=20target=20display=20object=20to=20align.=0D=09=09=20*=20=
@param=20alignModeX=20x-Axis=20alignment:=20inner=20or=20outer=20=
(default:=20inner)=0D=09=09=20*=20@param=20alignModeX=20y-Axis=20=
alignment:=20inner=20or=20outer=20(default:=20inner)=0D=09=09=20*/=0D=09=09=
public=20function=20stageAlignTopLeft(target:DisplayObject,=20=
alignModeX:String=3Dnull,=20alignModeY:String=3Dnull):void=0D=09=09{=0D=09=
=09=09stageAlignTop(target,=20alignModeY);=0D=09=09=09=
stageAlignLeft(target,=20alignModeX);=0D=09=09}=0D=0D=09=09/**=0D=09=09=20=
*=20Returns=20the=20stage=20dead=20center=20point.=0D=09=09=20*/=0D=09=09=
public=20function=20getStageDeadCenterPoint():Point=0D=09=09{=0D=09=09=09=
return=20new=20Point(StageRef.stageWidth=20/=202,=20StageRef.stageHeight=20=
/=202);=0D=09=09}=0D=09}=0D}=0D=
